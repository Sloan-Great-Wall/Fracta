# Fracta 文件与笔记的融合

想象一下，一个完全本地的notion，每个页面，数据库都是一个本地的markdown文件，每个文档也都有标签头。相当于Notion多维数据库，但是不限制某个笔记必须预先设定在某个数据库中，而是根据标签头种相同的维度，在整个笔记库任意划定范围或者说筛选条件，随意建立看板

一个智能文件管理器，以卡片笔记的形式架构，以多维数据库作为视图操作，ai基于笔记数据提供决策和自动化。

在一个all in one的笔记系统中，每个文件都应该是一个笔记，或者说有对应的文字讲述，背后的原则是，你应该对你数字大脑中的一切输入有所处理，而不能变成复制粘贴来的囤积库。所以，每一个非文本文件都应该对应着一个和它同名的markdown笔记

不仅是笔记软件，也是一个强大的文件管理器，能够管理本地文件，并且将笔记和文件无缝结合。

集成云存储，但比传统云盘更自然地融入操作系统。整合传统文件管理器功能。不仅作为一个独立的笔记软件，也要能管理和整合本地文件，替代Windows的文件资源管理器或Mac的Finder。数据标准化 Markdown + YAML + textbundle。一种高效的数据格式，使笔记和文件可以轻松地被其他应用程序使用。Fracta将笔记系统内的数据进行标准化和格式化，使其可以以API或通用格式的方式提供给第三方应用。这不仅包括标签和元数据的管理，还包括笔记的数据库化，使每个文件夹和笔记能够作为数据库的一个部分或条目。通过使用SQLite等轻量级数据库，可以高效地处理文件系统与数据库的集成，同时保持数据的开放性和可访问性。

## ToDoList - Software Requirements Specification
1. 整理简化整个fracta文档，回忆之前的想法，并简化
2. 逐个写每个功能的简介，几句话就行
3. 顺着整体顺序，写每个功能的作用，用例和UI
4. 做一版MVP demo
5. 列出之后的功能优先级

# 交互和界面设计
需要同时显示时间轴、文件结构、笔记界面和第三方扩展界面的复杂客户端前端。
对于时间轴的实现，可以使用专门的库如Vis.js或D3.js，这些库提供了强大的数据可视化功能，能够创建交互式和动态的时间轴视图。
对于文件结构的显示，可以考虑使用类似于jsTree的库，它提供了一个交互式的树视图，适合于文件和目录的展示。
笔记的编辑和查看


# 数据基础：文件笔记 file as note

## 文件资源管理器
一个功能全面，支持添加本地文件夹，网络服务器。支持ctrl x c v的文件管理器
## Markdown富文本编辑器
一个笔记中应该包含至少有两个部分，正文和标签卡片。正文是你写的自然语言的笔记。在Fracta中，默认支持markdown和富文本嵌入。这可以方便的实现卡片笔记或者子弹笔记。他们的思想是相通的，每个笔记都只是一个独立的概念或知识点，避免混合多个概念。相互嵌套，不重不漏，原子化分离。通过连接和标签组织整个结构。富文本嵌入则是现代笔记的基本要求，图片视频音频，以及包括在线链接或者程序应用。所以，每个文件或者笔记是图，文等多媒体文件嵌合在一起的复合内容。但其目的只是讲清楚一个概念

## YAML Metadata 标签卡片
标签+正文不是笔记软件的独创，而是计算机系统处理信息的常用手法
如果你用文件管理器打开一张照片会看到过右侧有很多信息，比如相机的型号地点ISO光圈快门等等，这就是metadata，一般是不显示的，它用于计算机程序处理。不过，metadata以及根据它整理成的多维数据库是非常好的管理工具。

标签卡片是将Metadata用YAML的格式存储在markdown文件的头部，用于整理和管理文件。把每个文件当作一个项目来管理。他是多维数据库在一个具体条目上的具体数值。

YAML中可以存在的数据形式：数值，文本，标签，···

finder是如何保存一个第三方文件的标签的？这种做法在许多静态站点生成器（如Jekyll或Hugo）中已被广泛应用。
## 自由连接：双链，引用，标签
层级是一个scaling能力很差的组织方式。数据是被迫的从网状的信息，整理成树状的知识，最后表达成线性的叙述。但信息是一个复杂网络，每个点都可能与其他任何一个点产生连接。而且，信息的连接比信息本身更有价值。网络的价值与节点数量的立方成正比，其中衡量的就是能创造的连接的数量

现在的笔记软件中，连接有三种实现方式，连接和标签。

双链是在文章的任意段落插入一个其他文档，段落或者网络资源的超链接，引用方可以直接点链接到被引用的地方，被引用方也可以看到所有引用他的文章有哪些。而标签更整体，当你在笔记的开头，或者中间的任意段落添加一个标签，不会影响其他笔记，而是能看到此笔记一共有多少标签，以及查看一个标签被添加到了多少笔记中。

连接和标签的区别在于，一个标签，如果它已有笔记了，那就是一个连接。标签会以列表的形式显示在文件结构中，标签是可以点击，弹出卡片预览，然后跳转文档的。点击应该显示的是引用了这个标签的所有文件。在调用格式这个维度，引用连接至少需要有两个属性一个标题加一个位置链接，

标签的页面是一个数据库页面，共同属性是那个tag，如果是有单独文档的，那么会显示文档在头部，但是由于数据库的显示，会缩略显示。 而数据库的部分则以默认的卡片墙的形式显示

所以引用和标签从双向连接的角度讲是一样的，都可以存在有文档和无文档情况。但是用不同的调用格式，标签常用的是 # ，引用常用的是一些 ! [ ] () 。 可以 用# 管理标签和文本内的连接，在后面直接写上标签名或者笔记名就可以了。而 ! [ ] ()可以处理更复杂的需求，引用多媒体等其他格式文件，引用网络连接，当它引用本地文档时指向的内容是一样的，但是可以添加并显示不同的标题。

所以，有连接有文档，其内容是数据库的就是一个标签，而没有数据库的就是一个双链引用

以上所说的连接是在文档内部，在标签卡片中，引用的作用会更整体，用于统计。分别有，正向连接统计（所有引用的连接和标签的统计），反向链接统计（所有引用此文档的连接的统计），相关笔记。前两个很好理解，相关笔记是指不在以上连接的统计中，但是内容相关度很好的文件，比如引用了很多相同的连接，讨论相关的话题等等，这个功能需要用到一定的用户数据和ai。

这里需要再辨析一下连接和标签之前细微的差别，反向链接统计其实就是统计有多少笔记用到了这个标题，这个功能流程和传统笔记软件的标签功能，在文档中嵌入标签，统计标签，在主页点击标签显示所有引用这个标签的笔记。。正向连接统计有点类似文章中的参考资料汇总reference。在显示的时候，这三项放在底部会更直观，并且在数据库视图下，标签卡片，正文和正向连接可以缩略在一起，主要以卡片墙的方式显示反向链接，这样就可以看作一个标签的视图。

前面提到了很多次标签卡片，但是标签卡片中的内容其实是一列 属性+对应的几个特定的值。类似程序语言中字典的键值对的感觉。但值得注意的是，属性和值的组合其实是标签的一种特殊形式，它是一个有绑定关系的多级标签，比如 优先级: 低，中，高。他其实是优先级这个标签下面再有低中高三个标签。

而多维视图和标签视图的区别就在于是正向连接之前组成的视图还是反向连接组成的视图。

# 操作面板：笔记中的数据用于自定义显示面板
## 主页：卡片的自由组合
卡片中可以多页面的放很多个视图
## 文档预览编辑作为一种视图
文件夹会以文档的形式显示，每个文件夹下有一个同名markdown文件，这个笔记用于说明文件夹的作用和排列预览其下所有文件。这时用笔记方法管理文件的基础。
## 层级 Column作为一种视图
一种文件资源管理器中常见的结构视图

显示 并列的一列列文件列表，点击一个文件夹会在右侧的一列中显示这个文件夹里的所有文件，以此类推
## 列表 List and its detail作为一种视图
一种文件资源管理器中常见的结构视图

显示 当前文件夹下所有的文件，每个文件显示一排，前面是文件icon和名字，后面是各种属性信息。
## 图标 Icon作为一种视图
一种文件资源管理器中常见的结构视图

以卡片形式显示文件的封面图
## 预览 Gallery作为一种视图
一种文件资源管理器中常见的结构视图

finder中常见，上半部分是大图的文件封面图，下半部分是一排文件小icon
## 标签列表作为一种视图
每个标签以文本的形式排列，用间隔区分开一个一个标签，当鼠标悬停在上面的时候会出现下划线以及加粗，表示可点击。点击后，会进入这个标签的文档页面，以数据库的形式呈现

这会是一个从传统文件资源管理器，到文件夹+标签，到纯标签数据库的变革。
允许一个笔记关联多个标签，反之亦然。

在一个最终的AGI的辅助下，会根据标签来动态生成文件结构。当ai可以给每个笔记自动添加标签，标题，整合相关笔记。对所有标签的引用统计会自然的涌现出结构，出现最多的那些标签会是最自然的一级目录，次一级多的哪些就会根据他有的一级标签变成一级目录下面的一个文件，而且如果他添加了多个一级目录，那么他会同时出现在多个文件夹中，而不必有一个唯一的分类。
## 多维数据库作为一种视图
以多维数据库打造的卡片墙，辅助标签带来的排序，筛选和搜索，可以让任意规模文件系统的层级变得非常少，非常易于理解。
文件夹下面的文件夹同理，上层统计下层的文件的头部 tag head 到上层的正文中，形成一个表格
还可以为每个文件夹设定特定的视图，根据标签及其值作为分类创建不同的视图。会自动匹配一个所有旗下笔记都填写过的属性作为分类依据，如果选择其他的属性，则能显示没有填写此属性值的笔记。
标签头时用来构造多维数据库的，就像notion那样，只要两个文件有相同的某个标签，就可以根据这个标签和它的值构造数据库。
卡片，列表，日历，时间线，
 数据库构建
    - 定义标签集：Todo，Task，Creation database，flow

textbundle：文件夹数据库：将文件夹下的每个笔记视为数据库中的一个条目，每个文件夹视为一个数据库。
## 连接关系地图作为一种视图
在文件结构的选项卡中，加入一个分形图标，呈现其下文件的连接关系，外部关系以灰色形式呈现

## 目标树作为一个视图
如何在一个任务管理系统中平衡不同任务的操作流程

比如：细碎的todo，整体的规划，周期性的习惯。定期抓取遍历笔记系统，按标签和操作性质分类更新：当前todo，优先级体量排序表
- Todolist，task和routine
-    routine和task的区别是，routine的子任务如果到期没完成就会变成一个没有操作空间的失败任务，而且它又在一个大的周期性计划中，又会挫败整个任务。 所以正确的应对方式是，把大的周期性任务切分成一系列逐步缓慢增加工作量的小任务，这样就和普通的task操作方法一致了

如何处理连续性的坚持类任务，把打卡做成一个个小任务
打卡，奖牌，排行榜，任务，如何做游戏化激励

## 笔记库回顾  版本存档，时间机器功能，time flow及提醒
随着使用的前端原来越简洁，对使用者的mind prompt越来越简单，如何通过过往的笔记不断的激励使用者精进自己的第二大脑
文件的备份：个人数据不会很大，一月更新一次备份，一年冷存档一次备份

calendar
可连续触发的提醒，timer group
回顾功能的实现：可以通过数据分析和机器学习技术来挖掘用户的笔记和文件，提供个性化的内容回顾。

自由回顾：任意尺度调用的任意时段数据总结看板。比如年度的游戏音乐影视剧社交工作总结。对任意时间段的任意项目拉取数据总结

提供个性化的内容回顾。生成定期和随机的数据报告。

定期与随机回顾：系统可以定期提供数据报告（如年度、季度报告），以及随机提取以前的笔记来刷新记忆和激发灵感。

# 翻译者：数据分析与决策辅助Agent
以前的笔记软件中，所有的标签都是需要人手动维护的，或者需要固定公式计算的。但标签和正文的区别无非是一个是有标准格式的，一个是自然语言随意的。现在有了ai，可以自动做一些从笔记正文中生成标准格式标签的程序，甚至也可以从标签正自动生成一部分的正文
数据分析、集成AI提供决策建议
## ai朗读
解析用户的自然语言指令，并转化为具体的任务和日程。例如，Google的Dialogflow或OpenAI的GPT系列模型都能在一定程度上实现这一功能。

## AI日程决策建议，过渡到自动化代办事项管理
    AI辅助功能也包括自动化代办事项管理和基于用户数据的分析，

## AI概述文件

## 基于AI的问答搜索
随着文件数量的增加，组织方式通常会从卡片墙，变成层级结构，最后变成搜索。搜索有三种类型，文内搜索，全文件夹搜索，当前文件夹搜索。从结果来看有关键词搜索和相关意义搜索。从UI角度讲，文内搜索和其他可以分开，全文件夹和当前文件夹搜索可以从结果上依次呈现，比如先出现当前文件夹，然后出现全文件夹，然后显示基于AI的相关相似意思搜索结果。

# 其他功能
### onedrive集成
### 文件共享，文件库共享，角色和权限管理，网站发布
### 云同步和跨设备使用
### 邮件系统集成
集成邮件服务通常需要与邮件服务器交互（例如使用SMTP、IMAP协议）。目前有许多成熟的库和服务可以帮助实现这一功能，如JavaMail API（适用于Java环境）或Python的smtplib和imaplib。
邮件和待办事项的自动化处理：利用AI辅助处理邮件和待办事项，比如自动解析自然语言指令并添加到日程中。

# 场景和使用案例
有哪些主要功能，这些主要功能用户从想到，打开到使用完毕关闭的全流程是什么
## 如何用整理你的文件，笔记和数据
随着信息系统的规模越来越大，如何优化预览，浏览、组织整理的高效好用。


## 临时文件与正式创作
写笔记编辑标题放到对应文件夹
写笔记没有标题和文件夹

中转站和处理面板：临时没有整理的文件，比如桌面或download
   完结的临时笔记怎么处理，临时笔记常用到的标签能否作为目标简化主动过程。完结后弹出处理决策，决定删除或者整合成正式笔记，如何判断一个细碎的笔记是否完成？ 先分割成一个个的原子化笔记，根据内容判断有效期根据日期提醒，思想类进行扩写或思路提示或找到笔记库内现有的笔记进行关联
另外还支持被动记录,有什么临时想法直接记下,回头AI生成分类建议,自己判断分类即可。

## 娱乐媒体库

# 参考软件
## Finder
预览功能：文件和文件夹旁边显示预览。
标签系统：用不同颜色标记和快速访问文件。
自定义路径：常用路径和网络硬盘的快捷访问。
问题和限制：现有系统（如Apple's Finder）不开源，且不够灵活以适应AI时代的需求，如直接从文件中提取信息以便笔记记录。

Apple's Finder：提供了文件预览、标签系统和自定义路径等功能，但存在限制，如不开源、不够灵活等。

## Notion
作为一个互联网软件，提供了出色的兼容性和链接整合功能，可以插入主流应用的链接

## flomo

## Obsidian